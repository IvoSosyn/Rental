<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <!--
        <ui:composition template = "/templates/templateMain.xhtml" />	
        ?faces-redirect=true
        -->
        <h:form id="formAttr" >
            <p:dataTable   var="attrValue" value="#{eviAttr.values}" editable="true" editMode="cell" widgetVar="cellAttribute" >
                <p:column headerText="Položka" >
                    <h:outputText value="#{attrValue.attribute.attrname}: " />
                </p:column>

                <!-- *********** String -->                    
                <p:column headerText="Hodnota" >
                    <p:cellEditor rendered="#{attrValue.isRenderedC()}">
                        <f:facet name="output"> <p:outputLabel value="#{attrValue.value}" title="#{attrValue.attribute.popis}" /> </f:facet>
                        <f:facet name="input"> <p:inputText value="#{attrValue.value}" style="width:96%" maxlength="#{attrValue.attrSize}" size="#{attrValue.attrSize}" title="#{attrValue.attribute.popis}" label="#{attrValue.attribute.popis}" /> </f:facet>
                    </p:cellEditor>
                    <!-- *********** Boolean -->                    
                    <p:cellEditor  rendered="#{attrValue.isRenderedB()}">
                        <f:facet name="output"><p:selectBooleanCheckbox value="#{attrValue.value}" disabled="true" /> </f:facet>
                        <f:facet name="input"><p:selectBooleanCheckbox  value="#{attrValue.value}" disabled="false"  /></f:facet>
                    </p:cellEditor>                                    
                    <!-- *********** Integer -->                    
                    <p:cellEditor  rendered="#{attrValue.isRenderedI()}">
                        <f:facet name="output"> <p:inputNumber value="#{attrValue.value}" disabled="true" maxlength="#{attrValue.attrSize}" size="#{attrValue.attrSize}" decimalPlaces="#{attrValue.attrDecimal}" emptyValue="empty" /> </f:facet>                    
                        <f:facet name="input"> <p:inputNumber value="#{attrValue.value}" disabled="false" maxlength="#{attrValue.attrSize}" size="#{attrValue.attrSize}" decimalPlaces="#{attrValue.attrDecimal}" emptyValue="empty" /> </f:facet>
                    </p:cellEditor>                                    
                    <!-- *********** Double -->                    
                    <p:cellEditor  rendered="#{attrValue.isRenderedN()}">
                        <f:facet name="output"> <p:inputNumber value="#{attrValue.value}" disabled="true" maxlength="#{attrValue.attrSize}" size="#{attrValue.attrSize}" decimalPlaces="#{attrValue.attrDecimal}" emptyValue="empty" /> </f:facet>                    
                        <f:facet name="input"> <p:inputNumber value="#{attrValue.value}" disabled="false" maxlength="#{attrValue.attrSize}" size="#{attrValue.attrSize}" decimalPlaces="#{attrValue.attrDecimal}" emptyValue="empty" /> </f:facet>
                    </p:cellEditor>                                    
                    <!-- *********** Date -->                    
                    <p:cellEditor  rendered="#{attrValue.isRenderedD()}">
                        <f:facet name="output"> 
                            <p:datePicker value="#{attrValue.value}" locale="cs_CZ" monthNavigator="true" pattern="dd.MM.yyyy" showButtonBar="true" showIcon="true" showOnFocus="false"  title=" Prázdné pole(neomezeně) nebo OD kdy položka platí" disabled="false" />
                        </f:facet>
                        <f:facet name="input">       
                            <p:datePicker value="#{attrValue.value}" locale="cs_CZ" monthNavigator="true" pattern="dd.MM.yyyy" showButtonBar="true" showIcon="true" showOnFocus="false"  title=" Prázdné pole(neomezeně) nebo OD kdy položka platí" disabled="false"  >
                                <p:ajax update="@form" />
                            </p:datePicker>
                        </f:facet>
                    </p:cellEditor>                                    
                    <!-- *********** Table(ciselnik) -->                    
                    <p:cellEditor rendered="#{attrValue.isRenderedT()}">
                        <f:facet name="output"> <h:outputText value="#{attrValue.value}"  title="#{attrValue.attribute.popis}" /> </f:facet>
                        <f:facet name="input"> <p:inputText value="#{attrValue.value}" style="width:96%" maxlength="#{attrValue.attrSize}"  size="#{attrValue.attrSize}"  title="#{attrValue.attribute.popis}" label="#{attrValue.attribute.popis}" /> </f:facet>
                    </p:cellEditor>
                </p:column>
                <f:facet name="footer">                        
                    <p:commandButton id="buttonSaveAttrValue" value="Ulož" ajax="true"  icon="fa fa-save" />
                </f:facet>
            </p:dataTable>
        </h:form>

    </h:body>  
</html>

